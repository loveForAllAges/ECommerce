{% extends 'base.html' %}
{% load my_filters %}


{% block content %}
<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-24 lg:pb-32">
    <!-- <div class="py-8">
        <h1 class="text-3xl font-bold tracking-tight text-gray-900">Аккаунт</h1>
    </div> -->

    <div class="">
        <div class="py-8">
            <div class="md:flex md:items-center md:justify-between">
                <div class="md:flex md:space-x-5">
                    <div class="flex-shrink-0">
                        <div class="mx-auto rounded-full h-20 w-20 bg-gradient-to-r p-[2px] from-blue-600 to-indigo-600">
                            <div class="rounded-full flex flex-col justify-between h-full bg-white p-[1px]">
                                <svg class="rounded-full h-full w-full text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 text-center md:mt-0 md:pt-1 md:text-left">
                    <p class="text-sm text-gray-500">Добро пожаловать,</p>
                    <p class="text-xl font-bold text-gray-900 sm:text-2xl">{{ request.user.first_name }} {{ request.user.last_name }}</p>
                    <p class="text-sm font-medium text-gray-600">{{ request.user.email }}</p>
                    </div>
                </div>
                <div class="mt-5 flex justify-center md:mt-0 space-x-4">
                    <a href="{% url 'adm' %}" class="flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50">
                        <svg class="-ml-1 mr-2 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
                        </svg>                          
                        Админ
                    </a>
                    <a href="#" class="flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50">
                        <svg class="-ml-1 mr-2 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>                          
                        Настройки
                    </a>
                </div>
            </div>
        </div>

        <div class="mt-10 divide-y divide-gray-200">
            <div class="space-y-1">
              <h3 class="text-lg font-medium leading-6 text-gray-900">Заказы ({{ object_list|length }})</h3>
              <p class="max-w-2xl text-sm text-gray-500">История ваших заказов</p>
            </div>
            <ul role="list" class="mt-6 py-8 grid gap-x-4 gap-y-8 grid-cols-2 sm:grid-cols-3 md:gap-x-6 lg:grid-cols-5 xl:gap-x-8">
                {% for order in object_list %}
                <li class="group relative">
                    <div class="relative aspect-w-1 aspect-h-1 rounded-lg bg-gray-50">
                        {% for product in order.goods.all %}
                        {% if forloop.counter == 1 %}
                        <div class="absolute w-1/2 h-1/2 rounded-lg border-gray-100 p-1">
                            {% for image in product.product.images.all %}
                            {% if image.is_main %}
                            <img src="{{ image.image.url }}" class="h-full w-full object-cover object-center rounded-lg">
                            {% endif %}
                            {% endfor %}
                        </div>
                        {% elif forloop.counter == 2 %}
                        <div class="absolute left-auto w-1/2 h-1/2 rounded-lg p-1 border-gray-100">
                            {% for image in product.product.images.all %}
                            {% if image.is_main %}
                            <img src="{{ image.image.url }}" class="h-full w-full object-cover object-center rounded-lg">
                            {% endif %}
                            {% endfor %}
                        </div>
                        {% elif forloop.counter == 3 %}
                        <div class="absolute top-auto w-1/2 h-1/2 rounded-lg p-1 border-gray-100">
                            {% for image in product.product.images.all %}
                            {% if image.is_main %}
                            <img src="{{ image.image.url }}" class="h-full w-full object-cover object-center rounded-lg">
                            {% endif %}
                            {% endfor %}
                        </div>
                        {% elif forloop.counter == 4 %}
                        <div class="absolute top-auto left-auto w-1/2 h-1/2 rounded-lg p-1 border-gray-100">
                            {% for image in product.product.images.all %}
                            {% if image.is_main %}
                            <img src="{{ image.image.url }}" class="h-full w-full object-cover object-center rounded-lg">
                            {% endif %}
                            {% endfor %}
                        </div>
                        {% endif %}
                        {% endfor %}
                        <div class="absolute left-2 top-1">
                            <span class="inline-flex items-center rounded-lg bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-800">
                                <svg class="mr-1.5 h-2 w-2 text-blue-400" fill="currentColor" viewBox="0 0 8 8">
                                  <circle cx="4" cy="4" r="3" />
                                </svg>
                                {{ order.get_status_display }}
                            </span>
                        </div>
                    </div>
                    <a href="{% url 'order' order.pk %}" class="block mt-2 text-gray-900 group-hover:text-blue-600 text-sm duration-150">
                        <span aria-hidden="true" class="absolute inset-0"></span>
                        Заказ #{{ order.number }}
                    </a>
                    <p class="mt-1 text-gray-900 font-medium">{{ order.total_price|add_space_separator }} ₽</p>
                </li>
                {% endfor %}
            </ul>



            <div class="hidden mt-6">
                {% for order in object_list %}
                <div class="border-gray-200 bg-white shadow-sm rounded-lg border">
                    <div class="p-4 border-b flex items-center w-full">
                        <div class="flex flex-1 items-center justify-start"></div>
                        <div class="flex items-center space-x-2 justify-center">
                            <h2 class="text-lg font-medium text-gray-900">Заказ #{{ order.number }}</h2>
                        </div>
                        <div class="-m-2 flex flex-1 items-center justify-end">
                            <a href="{% url 'order' order.pk %}" class="p-2 text-sm duration-150 text-gray-400 hover:text-gray-500">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z" />
                                </svg>
                            </a>
                        </div>
                    </div>
    
                    <ul class=" divide-y divide-gray-200">
                        {% for product in order.goods.all %}
                        <li class="flex group p-4 relative">
                            <div class="w-20 h-20 sm:h-24 sm:w-24 flex-shrink-0 overflow-hidden rounded-md" href="{% url 'product' product.product.id %}">
                            {% for image in product.product.images.all %}
                            {% if image.is_main %}
                                <img src="{{ image.image.url }}" class="h-full w-full object-cover object-center">
                            {% endif %}
                            {% endfor %}
                            </div>
                            <div class="flex flex-col flex-1 space-y-1 justify-between">
                                <a href="{% url 'product' product.product.id %}" class="flex space-x-4">
                                    <span aria-hidden="true" class="absolute inset-0"></span>
                                    <div class="flex flex-col">
                                        <p class="duration-150 text-sm group-hover:text-blue-600">{{ product.product.name }}</p>
                                        <p class="mt-1 text-sm text-gray-500">{{ product.size }} размер</p>
                                        <p class="mt-1 text-sm text-gray-500">{{ product.quantity }} шт.</p>
                                    </div>
                                </a>
                            </div>
                            
                            <div class="flex flex-col justify-between items-end">
                                <div class="ml-4 flex flex-col justify-between items-end">
                                    <p class="font-medium">{{ product.total_price|add_space_separator }} ₽</p>
                                    {% if product.quantity > 1 %}
                                    <p class="text-sm text-gray-500">1 шт. / {{ product.product.price|add_space_separator }} ₽</p>
                                    {% endif %}
                                </div>
                                <div class="flex justify-between">
                                    {% if product.product in request.user.wishlist.all %}
                                    <button type="button" data-product="{{ product.product.id }}" data-action="delete" class="isolate addToWishlist flex items-center justify-center bg-white p-1 text-rose-500 hover:text-rose-600">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"></path>
                                        </svg>
                                    </button>
                                    {% else %}
                                    <button type="button" {% if request.user.is_anonymous %}data-modal-target="permissionModal" data-modal-toggle="permissionModal"{% else %}data-product="{{ product.product.id }}" data-action="add"{% endif %} class="{% if request.user.is_authenticated %}addToWishlist{% endif %} isolate flex items-center justify-center bg-white p-1 text-gray-400 hover:text-gray-500">               
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                                        </svg>
                                    </button>
                                    {% endif %}
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                    <div class="p-4">
                        <div class="flex items-center justify-between border-t border-gray-200 pt-4 text-black">
                            {% include 'components/orderStatus.html' %}
                            <div class="text-base font-medium">{{ order.total_price|add_space_separator }} ₽</div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <div class="hidden mx-auto mt-8 grid grid-cols-1 gap-6 lg:grid-flow-col-dense lg:grid-cols-4">
        <div class="lg:col-span-1 ">
            <div class="space-y-1">
                <a href="#" class="bg-gray-100 text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                    <svg class="text-gray-500 flex-shrink-0 -ml-1 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                    </svg>
                    <span class="truncate">Главная</span>
                </a>
            
                <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                    <svg class="text-gray-400 group-hover:text-gray-500 flex-shrink-0 -ml-1 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
                    </svg>
                    <span class="truncate">Заказы</span>
                </a>

                <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                    <svg class="text-gray-400 group-hover:text-gray-500 flex-shrink-0 -ml-1 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
                    </svg>
                    <span class="truncate">Управление аккаунтом</span>
                </a>
            </div>
            <div class="mt-8">
                <h3 class="px-3 text-sm font-medium text-gray-500" id="projects-headline">Другое</h3>
                <div class="mt-1 space-y-1" aria-labelledby="projects-headline">
                <a href="#" class="group flex items-center rounded-md px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900">
                    <span class="truncate">Выйти</span>
                </a>
            
                <a href="#" class="group flex items-center rounded-md px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900">
                    <span class="truncate">Правила пользования</span>
                </a>
            
                <a href="#" class="group flex items-center rounded-md px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900">
                    <span class="truncate">Политика конфиденциальности</span>
                </a>
            
                <a href="#" class="group flex items-center rounded-md px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900">
                    <span class="truncate">Profit sharing program</span>
                </a>
                </div>
            </div>
        </div>
        <div class="mx-auto">
            <div class="">ss</div>
        </div>
    </div>
</div>

<div class="hidden mx-auto py-10 px-4 sm:py- sm:px-0 sm:max-w-lg">
    <div class="text-center">
        <div class="mx-auto rounded-full h-20 w-20 lg:h-24 lg:w-24 bg-gradient-to-r p-[2px] from-blue-600 to-indigo-600">
            <div class="rounded-full flex flex-col justify-between h-full bg-white p-[2px]">
                <svg class="rounded-full h-full w-full text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            </div>
        </div>
        <h3 class="mt-4 font-medium text-gray-900">{{ request.user.first_name }} {{ request.user.last_name }}</h3>
        <p class="mt-1 text-sm text-gray-500">{{ request.user.email }}</p>
    </div>

    <div class="mt-10">
        <div class="overflow-hidden border rounded-xl">
            <ul role="list" class="divide-y divide-gray-200">
                <li>
                    <a href="{% url 'orders' %}" class="block hover:bg-gray-50">
                        <div class="flex items-center p-2">
                            <div class="min-w-0 flex-1">
                                <div class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md flex items-center text-sm font-medium">
                                    <svg class="text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path>
                                    </svg>
                                    Заказы
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="{% url 'wishlist' %}" class="block hover:bg-gray-50">
                        <div class="flex items-center p-2">
                            <div class="min-w-0 flex-1">
                                <div class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md flex items-center text-sm font-medium">
                                    <svg class="text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"></path>
                                    </svg>
                                    Избранное
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="{% url 'account-edit' %}" class="block hover:bg-gray-50">
                        <div class="flex items-center p-2">
                            <div class="min-w-0 flex-1">
                                <div class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md flex items-center text-sm font-medium">
                                    <svg class="text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                                    </svg>
                                    Управление аккаунтом
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                                
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="{% url 'password-change' %}" class="block hover:bg-gray-50">
                        <div class="flex items-center p-2">
                            <div class="min-w-0 flex-1">
                                <div class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md flex items-center text-sm font-medium">
                                    <svg class="text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
                                    </svg>
                                    Изменить пароль
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#" class="block hover:bg-gray-50">
                        <div class="flex items-center p-2">
                            <div class="min-w-0 flex-1">
                                <div class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md flex items-center text-sm font-medium">
                                    <svg class="text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"></path>
                                    </svg>
                                    Поддержка
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#" class="block hover:bg-gray-50">
                        <div class="flex items-center p-2">
                            <div class="min-w-0 flex-1">
                                <div class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md flex items-center text-sm font-medium">
                                    <svg class="text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" />
                                    </svg>
                                    Управление
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <button type="button" data-modal-target="logoutModal" data-modal-toggle="logoutModal" class="block w-full hover:bg-gray-50">
                        <div class="flex items-center p-2">
                            <div class="min-w-0 flex-1">
                                <div class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md flex items-center text-sm font-medium">
                                    <svg class="text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"></path>
                                    </svg>
                                    Выйти
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                    </button>
                </li>
            </ul>
        </div>

        <div class="hidden space-y-6">
            <div class="overflow-hidden rounded-xl border">
                <ul role="list" class="divide-y divide-gray-200">
                    <li>
                        <a href="{% url 'orders' %}" class="block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-teal-50 text-teal-700">
                                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                                        </svg> 
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Заказы
                                        <span class="bg-gray-100 text-gray-900 ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium inline-block">{{ request.user.order_set.all|length }}</span>
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'wishlist' %}" class="block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-rose-50 text-rose-700">
                                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                                        </svg> 
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Избранное
                                        <span class="bg-gray-100 text-gray-900 ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium inline-block">{{ request.user.wishlist_set.all|length }}</span>
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'main' %}" class="block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-indigo-50 text-indigo-700">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                                            </svg>                                              
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Адресы доставки
                                        <span class="bg-gray-100 text-gray-900 ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium inline-block">{{ addresses|length }}</span>
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="overflow-hidden rounded-xl border">
                <ul role="list" class="divide-y divide-gray-200">
                    <li>
                        <a href="{% url 'orders' %}" class="block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-purple-50 text-purple-700">
                                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                                        </svg>
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Управление аккаунтом
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'wishlist' %}" class="block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-emerald-50 text-emerald-700">
                                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
                                        </svg>
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Изменить пароль
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'wishlist' %}" class="block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-emerald-50 text-emerald-700">
                                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"></path>
                                        </svg>
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Поддержка
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="overflow-hidden rounded-xl border">
                <ul role="list" class="divide-y divide-gray-200">
                    <li>
                        <a href="{% url 'orders' %}" class="block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-yellow-50 text-yellow-700">
                                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" />
                                        </svg>
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Управление
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="overflow-hidden rounded-xl border">
                <ul role="list" class="divide-y divide-gray-200">
                    <li>
                        <button type="button" data-modal-target="logoutModal" data-modal-toggle="logoutModal" class="w-full block hover:bg-gray-50">
                            <div class="flex items-center p-3 sm:p-4">
                                <div class="flex space-x-4 flex-1 items-center">
                                    <span class="flex-shrink-0 rounded-xl flex p-2 bg-red-50 text-red-600">
                                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"></path>
                                        </svg>
                                    </span>
                                    <p class="font-medium text-gray-700">
                                        Выйти
                                    </p>
                                </div>
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

{% include 'components/logoutModal.html' %}
{% endblock content %}
